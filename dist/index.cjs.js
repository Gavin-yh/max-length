"use strict";var e,n={innerText:"",innerHTML:""},t="max-length-02a54070-d0f2-47d";module.exports=function(i){var r=i.dom,a=i.maxLength;if(r&&a){var o=function(){var e=window.getSelection(),i=e.getRangeAt(0),a=function(){var e=document.createElement("span");return e.contentEditable="true",e.style.display="inline-block",e.style.minHeight="1px",e.style.minWidth="1px",e.classList.add(t),e}();i.insertNode(a),e.removeAllRanges(),e.selectAllChildren(a),n.innerHTML=r.innerHTML,n.innerText=r.innerText.replace(/\r|\n|(\r\n)/g,"")},d=function(e){var t=a-n.innerText.length;0!==t?t<e.data.length?c(e.data,t):c(e.data):v()},l=function(e){if(e.preventDefault(),o(),!("ActiveXObject"in window)){n.innerHTML=r.innerHTML,n.innerText=r.innerText.replace(/\r|\n|(\r\n)/g,"");var t=a-n.innerText.length,i=e.clipboardData,d="";d=null==i?window.clipboardData&&window.clipboardData.getData("text"):i.getData("text/plain"),0!==t?t<d.length?c(d,t):c(d):v()}},s=function(e){e.target.innerText.length>=a&&8!==e.keyCode&&e.preventDefault()},c=function(n,t){var i=n;t&&(i=n.slice(0,t));var r=v();(e=document.createDocumentFragment()).append(i),r.insertNode(e),r.collapse()};return r.addEventListener("keydown",s),r.addEventListener("paste",l),r.addEventListener("compositionstart",o),r.addEventListener("compositionend",d),function(){r.removeEventListener("keydown",s),r.removeEventListener("paste",l),r.removeEventListener("compositionstart",o),r.removeEventListener("compositionend",d)}}function v(){var e=window.getSelection().getRangeAt(0),n=document.getElementsByClassName(t)[0];return e.selectNode(n),e.deleteContents(),e}};
