var e,n={innerText:"",innerHTML:""},t=function(t){var i=t.dom,a=t.maxLength;if(i&&a){var r=function(t,a){var r=window.getSelection().getRangeAt(0),o=t.slice(0,a),d=n.innerHTML.trim()+o;e=document.createDocumentFragment(),i.innerHTML="",e.append(d),r.insertNode(e),r.collapse()};i.addEventListener("keydown",(function(e){e.target.innerText.length>=10&&8!==e.keyCode&&e.preventDefault()})),i.addEventListener("paste",(function(e){if(!("ActiveXObject"in window)){n.innerHTML=i.innerHTML,n.innerText=i.innerText.replace(/\r|\n|(\r\n)/g,"");var t=a-n.innerText.length,o=e.clipboardData,d="";t<(d=null==o?window.clipboardData&&window.clipboardData.getData("text"):o.getData("text/plain")).length&&(e.preventDefault(),r(d,t))}})),i.addEventListener("compositionstart",(function(e){n.innerHTML=i.innerHTML,n.innerText=i.innerText.replace(/\r|\n|(\r\n)/g,"")})),i.addEventListener("compositionend",(function(e){var t=a-n.innerText.length;t<e.data.length&&r(e.data,t)}))}};export{t as default};
